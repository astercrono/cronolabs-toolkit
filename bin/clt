#!/usr/bin/env bash

export CLT_BIN=$(dirname "$(realpath "${BASH_SOURCE[0]}")")
cd $CLT_BIN

subcommands=("help" "install" "provision")

subcommand_arg="$1"
valid_subcommand=false
for item in "${subcommands[@]}"; do
    if [[ "$item" == "$subcommand_arg" ]]; then
        valid_subcommand=true
        break
    fi
done


if [ $valid_subcommand = false ]; then
	echo "Invalid subcommand $1"
	exit 1
fi

shift

if [[ "$subcommand_arg" == "provision" ]]; then
	./clt-provision $@
elif [[ "$subcommand_arg" == "install" ]]; then
	./clt-install $@
fi

